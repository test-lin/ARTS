# 建表技巧收集

确定核心字段

添加辅助字段

添加优化字段



用户表

核心字段：用户名，密码，头像，昵称，电话，邮箱，关联角色ID

辅助字段：添加时间，登录IP，登录时间，登录次数，修改时间

优化字段：无
    多表关联的才会用的到。
    比如订单，和订单商品表，订单商品表只需要关联 订单ID 就可以了，但是前端用的是订单号匹配可以冗余订单号


什么情况要分成多表

一对一，一对多，多对多

一对一
    两张表间有关联ID就可以了，关联ID要唯一，可以使用唯一索引
疑问：
    1. 两张表关联，为何不直接一张表算了？
        拆分规则：数据使用频率，数据分类，数据私密度
            数据分类如：
            学校（校名，地址，学生人数，其他信息）
            学校校长（姓名，身份证号，婚否，其他信息）
            这两个是1：1关系。你要是把他们放在同一张表中，那像什么了？

            学校—校长（校名，地址，学生人数，其他信息，姓名，身份证号，婚否，其他信息）

一对多
    两张表间有关联ID

多对多
    需要有张中间表进行映射，两表间不会直接关联




快速找到核心内容

积分系统

会员卡
    会员卡名称
    折扣
会员卡权限表
    会员卡ID
    规则标识：这里使用定死的几个标识，
    -- 状态：使用，停用（可去除，在权限表中的都是启用的，如果变更了就不使用了）

会员等级
    级别名称
    积分线
会员特权
    会员等级ID
    规则标识：这里使用定死的几个标识，

积分获取规则
    获取规则标识：这里使用定死的几个标识
    使用状态

积分使用规则
    使用规则标识：这里使用定死的几个标识
    使用状态

积分产品
    产品类型
    关联ID
    积分数

积分记录
    会员ID
    积分数
    使用类型
    关联ID
    操作时间

定义基础规则
    1. 表统一前缀：integral_
    2. 定义核心字段